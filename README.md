# ðŸ“± Kivy-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ð¯Ñ‚ÑƒÑ‚Ð°

Ð­Ñ‚Ð¾ Kivy-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ Ð²Ð°Ñˆ Flask-ÑÐ°Ð¹Ñ‚ Ð² WebView Ð½Ð° Android.

## ðŸ“‹ Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ

- Linux (Ubuntu/Debian Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)
- Python 3.8+
- Buildozer
- Android SDK Ð¸ NDK

## ðŸš€ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

### 1. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸

```bash
# ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ
sudo apt update
sudo apt upgrade -y

# Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ðµ Ð¿Ð°ÐºÐµÑ‚Ñ‹
sudo apt install -y git zip unzip openjdk-17-jdk python3-pip autoconf libtool pkg-config zlib1g-dev libncurses5-dev libtinfo5 libgtk-3-dev libsdl2-dev libffi-dev libssl-dev

# Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Buildozer
pip3 install --user buildozer

# Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð² PATH
echo 'export PATH=$PATH:~/.local/bin' >> ~/.bashrc
source ~/.bashrc
```

### 2. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ URL ÑÐ°Ð¹Ñ‚Ð°

ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ñ„Ð°Ð¹Ð» `main.py` Ð¸ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚Ðµ ÑÑ‚Ñ€Ð¾ÐºÑƒ:

```python
WEBSITE_URL = os.getenv('WEBSITE_URL', 'https://192.168.255.137')
```

Ð—Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ `https://192.168.255.137` Ð½Ð° URL Ð²Ð°ÑˆÐµÐ³Ð¾ ÑÐ°Ð¹Ñ‚Ð°.

Ð˜Ð»Ð¸ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½ÑƒÑŽ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ:

```bash
export WEBSITE_URL=https://your-domain.com
```

### 3. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ buildozer.spec

ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ `buildozer.spec` Ð¸ Ð¿Ñ€Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚Ðµ:
- `title` - Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
- `package.name` - Ð¸Ð¼Ñ Ð¿Ð°ÐºÐµÑ‚Ð°
- `package.domain` - Ð´Ð¾Ð¼ÐµÐ½ Ð¿Ð°ÐºÐµÑ‚Ð°
- `version` - Ð²ÐµÑ€ÑÐ¸Ñ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ

### 4. Ð¡Ð¾Ð±ÐµÑ€Ð¸Ñ‚Ðµ APK

```bash
# ÐŸÐµÑ€Ð²Ð°Ñ ÑÐ±Ð¾Ñ€ÐºÐ° (Ð·Ð°Ð¹Ð¼Ñ‘Ñ‚ Ð¼Ð½Ð¾Ð³Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸, ÑÐºÐ°Ñ‡Ð°ÐµÑ‚ Ð²ÑÐµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸)
buildozer android debug

# Ð˜Ð»Ð¸ Ð´Ð»Ñ Ñ€ÐµÐ»Ð¸Ð·Ð½Ð¾Ð¹ Ð²ÐµÑ€ÑÐ¸Ð¸ (Ð½ÑƒÐ¶ÐµÐ½ keystore)
buildozer android release
```

APK Ñ„Ð°Ð¹Ð» Ð±ÑƒÐ´ÐµÑ‚ Ð² Ð¿Ð°Ð¿ÐºÐµ `bin/`:
- `bin/yatuta-1.0.0-arm64-v8a-debug.apk` (debug Ð²ÐµÑ€ÑÐ¸Ñ)
- `bin/yatuta-1.0.0-arm64-v8a-release.apk` (release Ð²ÐµÑ€ÑÐ¸Ñ)

## ðŸ“¦ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð½Ð° ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð¾

```bash
# Ð§ÐµÑ€ÐµÐ· ADB
adb install bin/yatuta-1.0.0-arm64-v8a-debug.apk

# Ð˜Ð»Ð¸ ÑÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ APK Ð½Ð° Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½ Ð¸ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ
```

## ðŸ”§ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð´Ð»Ñ RuStore

Ð”Ð»Ñ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð² RuStore Ð²Ð°Ð¼ Ð¿Ð¾Ð½Ð°Ð´Ð¾Ð±Ð¸Ñ‚ÑÑ:

1. **ÐŸÐ¾Ð´Ð¿Ð¸ÑÐ°Ð½Ð½Ñ‹Ð¹ APK** (release Ð²ÐµÑ€ÑÐ¸Ñ Ñ keystore)
2. **Ð˜ÐºÐ¾Ð½ÐºÐ° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ** (512x512 PNG)
3. **Ð¡ÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ñ‹** (Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ 2, Ð¼Ð°ÐºÑÐ¸Ð¼ÑƒÐ¼ 8)
4. **ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ**
5. **ÐŸÐ¾Ð»Ð¸Ñ‚Ð¸ÐºÐ° ÐºÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸**

### Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ keystore Ð´Ð»Ñ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐ¸:

```bash
keytool -genkey -v -keystore yatuta.keystore -alias yatuta -keyalg RSA -keysize 2048 -validity 10000
```

Ð—Ð°Ñ‚ÐµÐ¼ Ð² `buildozer.spec` ÑƒÐºÐ°Ð¶Ð¸Ñ‚Ðµ:
```
android.keystore = yatuta.keystore
android.keystore_password = Ð²Ð°Ñˆ_Ð¿Ð°Ñ€Ð¾Ð»ÑŒ
android.keystore_alias = yatuta
android.keystore_alias_password = Ð²Ð°Ñˆ_Ð¿Ð°Ñ€Ð¾Ð»ÑŒ
```

## âš ï¸ Ð’Ð°Ð¶Ð½Ñ‹Ðµ Ð·Ð°Ð¼ÐµÑ‡Ð°Ð½Ð¸Ñ

1. **URL ÑÐ°Ð¹Ñ‚Ð° Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ñ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ð°** (Ð½Ðµ localhost!)
2. **Ð¡Ð°Ð¹Ñ‚ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð¿Ð¾ HTTPS** (Ð´Ð»Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸)
3. **ÐŸÐµÑ€Ð²Ð°Ñ ÑÐ±Ð¾Ñ€ÐºÐ° Ð¼Ð¾Ð¶ÐµÑ‚ Ð·Ð°Ð½ÑÑ‚ÑŒ 30-60 Ð¼Ð¸Ð½ÑƒÑ‚** (ÑÐºÐ°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹)
4. **Ð Ð°Ð·Ð¼ÐµÑ€ APK Ð±ÑƒÐ´ÐµÑ‚ Ð¾ÐºÐ¾Ð»Ð¾ 20-30 ÐœÐ‘** (Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Python Ð¸ Kivy)

## ðŸ› Ð ÐµÑˆÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼

### ÐžÑˆÐ¸Ð±ÐºÐ° "command not found: buildozer"
```bash
export PATH=$PATH:~/.local/bin
```

### ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ±Ð¾Ñ€ÐºÐµ
```bash
# ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚Ðµ ÐºÐµÑˆ Ð¸ Ð¿ÐµÑ€ÐµÑÐ¾Ð±ÐµÑ€Ð¸Ñ‚Ðµ
buildozer android clean
buildozer android debug
```

### WebView Ð½Ðµ Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ ÑÐ°Ð¹Ñ‚
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ‡Ñ‚Ð¾ URL Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ€Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð¸Ñ INTERNET Ð² buildozer.spec
- Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ ÑÐ°Ð¹Ñ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¿Ð¾ HTTPS

## ðŸ“ž ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°

Ð•ÑÐ»Ð¸ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ»Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹, Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸:
```bash
buildozer android debug 2>&1 | tee build.log
```

